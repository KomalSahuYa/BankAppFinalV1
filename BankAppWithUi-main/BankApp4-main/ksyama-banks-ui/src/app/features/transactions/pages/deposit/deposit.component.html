<div class="card p-3">
  <h4>Deposit</h4>
  <app-status-message type="success" [message]="successMessage"></app-status-message>
  <app-status-message type="danger" [message]="errorMessage"></app-status-message>

  <form [formGroup]="form" (ngSubmit)="submit()" class="row g-3" novalidate>
    <div class="col-md-6">
      <label class="form-label" for="deposit-account">Account Number</label>
      <input id="deposit-account" class="form-control" formControlName="accountNumber" />
      <div class="text-danger small mt-1" *ngIf="form.controls.accountNumber.touched && form.controls.accountNumber.hasError('required')">
        Account number is required.
      </div>
    </div>
    <div class="col-md-6">
      <label class="form-label" for="deposit-amount">Amount</label>
      <input id="deposit-amount" type="number" min="0.01" step="0.01" class="form-control" formControlName="amount" />
      <div class="text-danger small mt-1" *ngIf="form.controls.amount.touched && (form.controls.amount.hasError('required') || form.controls.amount.hasError('number'))">
        Enter a valid numeric amount.
      </div>
      <div class="text-danger small mt-1" *ngIf="form.controls.amount.touched && (form.controls.amount.hasError('min') || form.controls.amount.hasError('minAmount'))">
        Amount must be greater than â‚¹0.00.
      </div>
    </div>
    <div class="col-12">
      <button class="btn btn-primary" [disabled]="isSubmitting || form.invalid" type="submit">{{ isSubmitting ? 'Processing...' : 'Deposit' }}</button>
    </div>
  </form>
</div>
